import{a as R}from"./chunk-DV2SRI26.js";import{b as I}from"./chunk-52AMY7P2.js";import{$ as m,G as g,Ka as u,L as c,La as S,Ma as D,Na as h,Q as f,R as p,Ra as w,Ta as T,Xa as y,Ya as C,hb as E,oa as d,ya as v}from"./chunk-UVT5JPCN.js";var o=class n{trendingScrollState=m(0);static \u0275fac=function(e){return new(e||n)};static \u0275prov=g({token:n,factory:n.\u0275fac,providedIn:"root"})};var P=["groupDiv"],s=class n{gifsService=c(I);scrollStateService=c(o);scrollDivRef=E("groupDiv");ngAfterViewInit(){let t=this.scrollDivRef()?.nativeElement;t&&(t.scrollTop=this.scrollStateService.trendingScrollState())}onScroll(t){let e=this.scrollDivRef()?.nativeElement;if(!e)return;let i=e.scrollTop,r=e.clientHeight,a=e.scrollHeight,l=i+r+300>=a;this.scrollStateService.trendingScrollState.set(i),l&&this.gifsService.loadTrendingGifs()}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=v({type:n,selectors:[["app-trending"]],viewQuery:function(e,i){e&1&&y(i.scrollDivRef,P,5),e&2&&C()},decls:3,vars:1,consts:[["groupDiv",""],[1,"h-screen","grid-cols-2","md:grid-cols-4","gap-4","pt-5","overflow-y-scroll",3,"scroll"],[3,"gifs"]],template:function(e,i){if(e&1){let r=w();S(0,"div",1,0),T("scroll",function(l){return f(r),p(i.onScroll(l))}),h(2,"gif-list",2),D()}e&2&&(d(2),u("gifs",i.gifsService.trendingGifGroup()))},dependencies:[R],encapsulation:2})};export{s as default};
